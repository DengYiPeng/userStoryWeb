{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Header from './fixed/header';\nimport StickyHeader from './sticky/header';\nimport { statics } from './util';\nexport default function sticky(BaseComponent) {\n  var _class, _temp;\n  /** Table */\n\n\n  var StickyTable = (_temp = _class = function (_React$Component) {\n    _inherits(StickyTable, _React$Component);\n\n    function StickyTable() {\n      _classCallCheck(this, StickyTable);\n\n      return _possibleConstructorReturn(this, _React$Component.apply(this, arguments));\n    }\n\n    StickyTable.prototype.getChildContext = function getChildContext() {\n      return {\n        Header: this.props.components.Header || Header,\n        offsetTop: this.props.offsetTop,\n        affixProps: this.props.affixProps\n      };\n    };\n\n    StickyTable.prototype.render = function render() {\n      /* eslint-disable no-unused-vars */\n      var _props = this.props,\n          stickyHeader = _props.stickyHeader,\n          offsetTop = _props.offsetTop,\n          affixProps = _props.affixProps,\n          others = _objectWithoutProperties(_props, ['stickyHeader', 'offsetTop', 'affixProps']);\n\n      var _props2 = this.props,\n          components = _props2.components,\n          maxBodyHeight = _props2.maxBodyHeight,\n          fixedHeader = _props2.fixedHeader;\n\n      if (stickyHeader) {\n        components = _extends({}, components);\n        components.Header = StickyHeader;\n        fixedHeader = true;\n        maxBodyHeight = Math.max(maxBodyHeight, 10000);\n      }\n\n      return React.createElement(BaseComponent, _extends({}, others, {\n        components: components,\n        fixedHeader: fixedHeader,\n        maxBodyHeight: maxBodyHeight\n      }));\n    };\n\n    return StickyTable;\n  }(React.Component), _class.StickyHeader = StickyHeader, _class.propTypes = _extends({\n    /**\n     * 表头是否是sticky\n     */\n    stickyHeader: PropTypes.bool,\n\n    /**\n     * 距离窗口顶部达到指定偏移量后触发\n     */\n    offsetTop: PropTypes.number,\n\n    /**\n     * affix组件的的属性\n     */\n    affixProps: PropTypes.object,\n    components: PropTypes.object\n  }, BaseComponent.propTypes), _class.defaultProps = _extends({\n    components: {}\n  }, BaseComponent.defaultProps), _class.childContextTypes = {\n    Header: PropTypes.any,\n    offsetTop: PropTypes.number,\n    affixProps: PropTypes.object\n  }, _temp);\n  StickyTable.displayName = 'StickyTable';\n  statics(StickyTable, BaseComponent);\n  return StickyTable;\n}","map":null,"metadata":{},"sourceType":"module"}