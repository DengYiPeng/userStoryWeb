{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\n\nvar _class, _temp;\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { obj, func } from '../util';\nimport Tag from './tag';\nvar noop = func.noop,\n    bindCtx = func.bindCtx;\n/**\n * Tag.Selectable\n */\n\nvar Selectable = (_temp = _class = function (_Component) {\n  _inherits(Selectable, _Component);\n\n  function Selectable(props) {\n    _classCallCheck(this, Selectable);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n    _this.state = {\n      checked: 'checked' in props ? props.checked : props.defaultChecked || false\n    };\n    bindCtx(_this, ['handleClick']);\n    return _this;\n  }\n\n  Selectable.prototype.handleClick = function handleClick(e) {\n    e && e.preventDefault(); // IE9 不支持 pointer-events，还是可能会触发 click 事件\n\n    if (this.props.disabled) {\n      return false;\n    }\n\n    this.setState(function (prevState) {\n      return {\n        checked: !prevState.checked\n      };\n    });\n    this.props.onChange(!this.props.checked, e);\n  };\n\n  Selectable.prototype.render = function render() {\n    var attrFilterTarget = ['checked', 'defaultChecked', 'onChange', 'className', // 防止这些额外的参数影响 tag 的类型\n    '_shape', 'closable'];\n    var others = obj.pickOthers(attrFilterTarget, this.props);\n    var isChecked = 'checked' in this.props ? this.props.checked : this.state.checked;\n    var clazz = classNames(this.props.className, {\n      checked: isChecked\n    });\n    return React.createElement(Tag, _extends({}, others, {\n      role: 'checkbox',\n      _shape: 'checkable',\n      'aria-checked': isChecked,\n      className: clazz,\n      onClick: this.handleClick\n    }));\n  };\n\n  return Selectable;\n}(Component), _class.propTypes = {\n  /**\n   * 标签是否被选中，受控用法\n   * tag checked or not, a controlled way\n   */\n  checked: PropTypes.bool,\n\n  /**\n   * 标签是否默认被选中，非受控用法\n   * tag checked or not by default, a uncontrolled way\n   */\n  defaultChecked: PropTypes.bool,\n\n  /**\n   * 选中状态变化时触发的事件\n   * @param {Boolean} checked 是否选中\n   * @param {Event} e Dom 事件对象\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * 标签是否被禁用\n   */\n  disabled: PropTypes.bool,\n  className: PropTypes.any\n}, _class.defaultProps = {\n  onChange: noop\n}, _temp);\nSelectable.displayName = 'Selectable';\nexport default Selectable;","map":null,"metadata":{},"sourceType":"module"}