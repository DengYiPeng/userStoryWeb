{"ast":null,"code":"import _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\n\nvar _class, _temp2;\n\nimport React from 'react';\nimport T from 'prop-types';\nimport { events, dom } from '../../util';\nvar Resize = (_temp2 = _class = function (_React$Component) {\n  _inherits(Resize, _React$Component);\n\n  function Resize() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Resize);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.onMouseDown = function (e) {\n      _this.lastPageX = e.pageX;\n      events.on(document, 'mousemove', _this.onMouseMove);\n      events.on(document, 'mouseup', _this.onMouseUp);\n\n      _this.unSelect();\n    }, _this.onMouseMove = function (e) {\n      var pageX = e.pageX;\n      var changedPageX = pageX - _this.lastPageX;\n\n      _this.props.onChange(_this.props.dataIndex, changedPageX);\n\n      _this.lastPageX = pageX;\n    }, _this.onMouseUp = function () {\n      _this.destory();\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  Resize.prototype.componentWillUnmount = function componentWillUnmount() {\n    this.destory();\n  };\n\n  Resize.prototype.destory = function destory() {\n    events.off(document, 'mousemove', this.onMouseMove);\n    events.off(document, 'mouseup', this.onMouseMove);\n    this.select();\n  };\n\n  Resize.prototype.unSelect = function unSelect() {\n    dom.setStyle(document.body, {\n      userSelect: 'none',\n      cursor: 'ew-resize'\n    });\n    document.body.setAttribute('unselectable', 'on');\n  };\n\n  Resize.prototype.select = function select() {\n    dom.setStyle(document.body, {\n      userSelect: '',\n      cursor: ''\n    });\n    document.body.removeAttribute('unselectable');\n  };\n\n  Resize.prototype.render = function render() {\n    var prefix = this.props.prefix;\n    return React.createElement('a', {\n      className: prefix + 'table-resize-handler',\n      onMouseDown: this.onMouseDown\n    });\n  };\n\n  return Resize;\n}(React.Component), _class.propTypes = {\n  prefix: T.string,\n  onChange: T.func,\n  dataIndex: T.string\n}, _class.defaultProps = {\n  onChange: function onChange() {}\n}, _temp2);\nResize.displayName = 'Resize';\nexport default Resize;","map":null,"metadata":{},"sourceType":"module"}