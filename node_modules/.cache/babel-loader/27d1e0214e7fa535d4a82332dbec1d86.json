{"ast":null,"code":"var now = +new Date();\n/**\n * 生成唯一的id\n * @return {String} uid\n */\n\nexport function uid() {\n  return (now++).toString(36);\n}\nexport function fileToObject(file) {\n  if (!file.uid) {\n    file.uid = uid();\n  }\n\n  return {\n    lastModified: file.lastModified,\n    lastModifiedDate: file.lastModifiedDate,\n    name: file.filename || file.name,\n    size: file.size,\n    type: file.type,\n    uid: file.uid,\n    error: file.error,\n    percent: 0,\n    originFileObj: file\n  };\n}\nexport function getFileItem(file, fileList) {\n  var matchKey = file.uid !== undefined ? 'uid' : 'name';\n  return fileList.filter(function (item) {\n    return item[matchKey] === file[matchKey];\n  })[0];\n}\nexport function removeFileItem(file, fileList) {\n  var matchKey = file.uid !== undefined ? 'uid' : 'name';\n  var removed = fileList.filter(function (item) {\n    return item[matchKey] !== file[matchKey];\n  });\n\n  if (removed.length === fileList.length) {\n    return null;\n  }\n\n  return removed;\n} // https://developer.mozilla.org/en-US/docs/Web/API/FileReader/readAsDataURL\n\nexport function previewFile(file, callback) {\n  var reader = new FileReader();\n\n  reader.onloadend = function () {\n    return callback(reader.result);\n  };\n\n  reader.readAsDataURL(file);\n}","map":null,"metadata":{},"sourceType":"module"}