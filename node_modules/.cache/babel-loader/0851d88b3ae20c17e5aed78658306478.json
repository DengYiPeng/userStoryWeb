{"ast":null,"code":"import { hasDOM } from './dom';\nimport { each } from './object';\nvar animationEndEventNames = {\n  WebkitAnimation: 'webkitAnimationEnd',\n  OAnimation: 'oAnimationEnd',\n  animation: 'animationend'\n};\nvar transitionEventNames = {\n  WebkitTransition: 'webkitTransitionEnd',\n  OTransition: 'oTransitionEnd',\n  transition: 'transitionend'\n};\n/**\n * 是否支持某些动效事件，如果支持，返回相应的end事件名\n * @private\n * @param  {Object<String>} names\n * @return {Object|false}\n */\n\nfunction _supportEnd(names) {\n  /* istanbul ignore if */\n  if (!hasDOM) {\n    return false;\n  }\n\n  var el = document.createElement('div');\n  var ret = false;\n  each(names, function (val, key) {\n    /* istanbul ignore else */\n    if (el.style[key] !== undefined) {\n      ret = {\n        end: val\n      };\n      return false;\n    }\n  });\n  return ret;\n}\n/**\n * 是否支持某些CSS属性\n * @private\n * @param  {Object<Array<String>>} names\n * @return {Boolean}       is support\n */\n\n\nfunction _supportCSS(names) {\n  /* istanbul ignore if */\n  if (!hasDOM) {\n    return false;\n  }\n\n  var el = document.createElement('div');\n  var ret = false;\n  each(names, function (val, key) {\n    each(val, function (item) {\n      try {\n        el.style[key] = item;\n        ret = ret || el.style[key] === item;\n      } catch (e) {// It will be throw error when set unknown property under IE8\n      }\n\n      return !ret; // 如果有一个支持就返回false，后面不需要再判断\n    });\n    return !ret;\n  });\n  return ret;\n}\n/**\n * 是否支持animation以及动画结束事件名\n * @type {Object|false}\n * @property {String} end 动画结束事件名\n */\n\n\nexport var animation = _supportEnd(animationEndEventNames);\n/**\n * 是否支持transition以及过滤效果结束事件名\n * @type {Object|false}\n * @property {String} end 过渡效果结束事件名\n */\n\nexport var transition = _supportEnd(transitionEventNames);\n/**\n * 是否支持flex属性\n * @type {Boolean}\n */\n\nexport var flex = _supportCSS({\n  display: ['flex', '-webkit-flex', '-moz-flex', '-ms-flexbox']\n});","map":null,"metadata":{},"sourceType":"module"}